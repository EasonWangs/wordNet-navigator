# 📊 数据管理后台使用指南

## 🎯 功能概览

Word Network Navigator 现在包含完整的数据管理后台，支持：

1. **关系类型管理** - 管理词汇关系的类型定义
2. **词汇管理** - CRUD 操作管理所有词汇
3. **词汇关系管理** - 管理词汇之间的连接关系

---

## 🚀 快速开始

### 访问方式

- **前台可视化**: http://localhost:5001/
- **管理后台**: http://localhost:5001/admin

### 导航

- 在前台页面，点击右上角 **"数据管理"** 按钮进入后台
- 在后台页面，点击右上角 **"返回前台"** 按钮返回可视化界面

---

## 📋 功能详解

### 1. 关系类型管理 (`/admin/relations`)

#### 功能
- 查看所有关系类型
- 添加新的关系类型
- 编辑关系类型属性
- 删除关系类型

#### 关系类型属性
- **关系键** (key): 系统内部使用的唯一标识
- **名称** (label): 显示名称，如 "上位词"
- **颜色** (color): 在图谱中显示的颜色
- **线条样式** (lineStyle): solid(实线) / dashed(虚线) / dotted(点线)
- **说明** (description): 可选的详细说明

#### 操作步骤
1. 点击 **"+ 添加关系类型"** 按钮
2. 填写关系信息：
   - 输入名称（如"因果关系"）
   - 选择颜色（点击颜色选择器）
   - 选择线条样式
   - 可选：输入说明
3. 点击 **"保存"** 按钮

#### 示例
```
名称: 因果关系
颜色: #ff6b6b
线条样式: dashed
说明: 表示因果关系的词汇连接
```

---

### 2. 词汇管理 (`/admin/words`)

#### 功能
- 查看所有词汇列表
- 添加新词汇
- 编辑词汇信息
- 删除词汇（会同时删除相关连接）

#### 词汇属性
- **词汇** (label): 词汇文本，如 "dog"
- **词性** (pos): noun/verb/adjective/adverb
- **定义** (definition): 词汇的定义说明
- **例句** (examples): 使用该词汇的例句列表

#### 操作步骤

**添加词汇：**
1. 点击 **"+ 添加词汇"** 按钮
2. 填写词汇信息：
   - 输入词汇文本
   - 选择词性
   - 输入定义
   - 添加例句（点击"+ 添加例句"可添加多条）
3. 点击 **"保存"** 按钮

**编辑词汇：**
1. 在词汇列表中找到目标词汇
2. 点击 **"编辑"** 按钮
3. 修改信息后点击 **"保存"**

**删除词汇：**
1. 点击词汇的 **"删除"** 按钮
2. 确认删除操作
3. 相关的词汇关系也会被自动删除

#### 示例
```
词汇: cat
词性: noun (名词)
定义: 一种小型食肉哺乳动物
例句:
  - The cat is sleeping on the sofa.
  - I have two cats at home.
```

---

### 3. 词汇关系管理 (`/admin/connections`)

#### 功能
- 查看所有词汇关系
- 添加新的词汇关系
- 删除词汇关系

#### 关系属性
- **源词汇** (source): 关系的起始词汇
- **关系类型** (relation): 使用的关系类型
- **目标词汇** (target): 关系的目标词汇

#### 操作步骤

**添加关系：**
1. 点击 **"+ 添加关系"** 按钮
2. 选择关系信息：
   - 从下拉列表选择源词汇
   - 选择关系类型
   - 选择目标词汇
3. 点击 **"保存"** 按钮

**删除关系：**
1. 在关系列表中找到目标关系
2. 点击 **"删除"** 按钮
3. 确认删除操作

#### 示例
```
源词汇: dog
关系类型: hypernym (上位词)
目标词汇: animal
→ 表示 "dog 的上位词是 animal"
```

---

## 💾 数据存储

### 本地存储
所有数据存储在浏览器的 LocalStorage 中：

- **词汇数据**: `wordnet_words`
- **关系数据**: `wordnet_connections`
- **关系类型**: `wordnet_relation_types`
- **词性类型**: `wordnet_pos_types`

### 数据持久化
- 数据保存在本地浏览器
- 清除浏览器数据会丢失所有内容
- 建议定期使用"数据管理"功能导出备份

### 数据导入导出
- **导出**: 将所有数据保存为 JSON 文件，包括词汇、关系、关系类型、词性类型
- **导入**: 从 JSON 文件恢复数据，会覆盖当前所有数据
- **清空**: 清除所有数据和配置，系统恢复为空白状态

---

## 🔄 工作流程

### 典型使用流程

#### 1. 初始化系统配置
```
首次使用时，系统为空白状态，需要手动配置：
1. 进入 /admin/relations - 添加关系类型配置
2. 进入 /admin/pos-types - 添加词性类型配置
3. 进入 /admin/words - 开始添加词汇数据
```

#### 2. 配置关系类型
```
1. 进入 /admin/relations
2. 添加需要的关系类型：
   - 上位词 (hypernym) - 红色 - 实线
   - 下位词 (hyponym) - 蓝色 - 实线
   - 同义词 (synonym) - 绿色 - 虚线
   - 反义词 (antonym) - 橙色 - 点线
```

#### 3. 添加词汇
```
1. 进入 /admin/words
2. 添加词汇及其定义：
   - animal (noun) - 动物
   - dog (noun) - 狗
   - cat (noun) - 猫
   - puppy (noun) - 小狗
```

#### 4. 建立关系
```
1. 进入 /admin/connections
2. 添加词汇关系：
   - dog → hypernym → animal
   - cat → hypernym → animal
   - puppy → hypernym → dog
```

#### 5. 查看可视化
```
1. 返回前台 (/)
2. 在搜索框输入词汇
3. 查看图谱展示
```

#### 6. 数据导入导出
```
1. 进入 /admin/data - 数据管理
2. 导出数据：保存当前所有数据为 JSON 文件
3. 导入数据：从 JSON 文件恢复数据
4. 清空数据：清除所有数据和配置（谨慎操作）
```

---

## 🎨 界面特性

### 响应式设计
- 表格自适应宽度
- 对话框居中显示
- 移动端友好（待优化）

### 颜色编码
- 关系类型用彩色标签显示
- 词性用徽章显示
- 操作按钮用颜色区分（编辑/删除）

### 表单验证
- 必填字段检查
- 下拉选择防止错误输入
- 保存前的确认提示

---

## ⚠️ 注意事项

### 数据一致性
1. **删除词汇** 会同时删除相关的所有关系
2. **删除关系类型** 不会删除使用该类型的关系
3. **关系键** 一旦创建不可修改

### 性能考虑
1. 大量数据时表格可能较慢（后续优化）
2. LocalStorage 有 5-10MB 限制
3. 建议控制词汇数量在 1000 以内

### 浏览器兼容性
- Chrome 90+ ✅
- Firefox 88+ ✅
- Safari 14+ ✅
- Edge 90+ ✅

---

## 🔧 快捷操作

### 键盘快捷键
- `Esc` - 关闭对话框
- `Enter` - 保存表单（在输入框中）

### 批量操作（待实现）
- [ ] 批量导入词汇
- [ ] 批量导出数据
- [ ] 批量删除关系

---

## 📈 数据示例

### 完整示例数据

#### 关系类型
```json
[
  { "key": "hypernym", "label": "上位词", "color": "#e74c3c", "lineStyle": "solid" },
  { "key": "hyponym", "label": "下位词", "color": "#3498db", "lineStyle": "solid" },
  { "key": "synonym", "label": "同义词", "color": "#2ecc71", "lineStyle": "dashed" }
]
```

#### 词汇
```json
[
  {
    "id": "word_001",
    "label": "dog",
    "pos": "noun",
    "definition": "驯养的食肉哺乳动物",
    "examples": ["The dog barked.", "I have a dog."]
  }
]
```

#### 关系
```json
[
  {
    "id": "conn_001",
    "source": "word_001",
    "target": "word_002",
    "relation": "hypernym"
  }
]
```

---

## 🚀 后续计划

### 即将添加
- [ ] 数据导入/导出功能
- [ ] 搜索和过滤功能
- [ ] 批量操作
- [ ] 数据统计面板
- [ ] 撤销/重做功能
- [ ] 数据验证规则

### 远期规划
- [ ] 云端数据同步
- [ ] 多用户协作
- [ ] 版本控制
- [ ] API 接口

---

## ❓ 常见问题

### Q: 数据会丢失吗？
A: 数据存储在浏览器 LocalStorage，清除浏览器数据会丢失。建议使用数据管理功能定期导出备份。

### Q: 可以导入现有数据吗？
A: 可以！在"数据管理"页面支持导入/导出 JSON 格式的数据文件。

### Q: 支持多少词汇？
A: 理论上无限制，但建议控制在 1000 个以内以保证性能。

### Q: 如何备份数据？
A: 在"数据管理"页面点击"导出为 JSON 文件"按钮，即可下载完整的数据备份文件。

### Q: 首次使用需要做什么？
A: 系统启动时为空白状态，需要：
1. 先在"关系类型管理"和"词性类型管理"中配置基础类型
2. 然后在"词汇管理"中添加词汇数据
3. 或者直接导入已有的 JSON 数据文件

---

## 📞 技术支持

如遇问题，请：
1. 检查浏览器控制台错误信息
2. 确认浏览器版本兼容性
3. 尝试清除缓存重新加载
4. 查看项目文档和 README

---

**管理后台已完成！开始管理您的 WordNet 数据吧！** 🎉
